<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather&family=Montserrat&family=Nabla&family=Sacramento&display=swap"
        rel="stylesheet"
    />
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />

</head>

<body>
    <header class="navContener">
        <nav class="navbar">
            <a class="nav-brand">Students Affairs</a>

            <ul class="nav-menu">
                <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="add_student.html">Add New Student</a></li>
                <li class="nav-item"><a class="nav-link" href="student_list.html">Student List</a></li>
                <li class="nav-item"><a class="nav-link active" href="search.html">Search</a></li>

            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>

        </nav>
    </header>

    <section class="main">

        <hr>

        <p>
{#        <h1 id="pageTitle" style="font-size: 2.7rem; margin: 30px 0px 40px 0px;">Search🔍</h1>#}
        <h1 id="pageTitle">Search🔍</h1>
        </p>

        <!-- <div>
        <input type="search" placeholder="Search.." id="searchInput" autofocus />
        <button id="searchBtn">🔍</button>
    </div> -->
        <div>
{#            <input type="text" id="myInput" placeholder="Type here to search..." autofocus style="width: 40%; margin: auto;">#}
            <input type="text" id="myInput" placeholder="Type here to search..." autofocus>
{#            <select id="searchType" style="width: 10%; margin: 2px 0px 2px 4px; font-family: 'Merriweather', serif; padding: 2px 0px 2px 5px;">#}
            <select id="searchType">
                <option value="name">Name</option>
                <option value="id">ID</option>
                <option value="department">Department</option>
            </select>
        </div>


{#        <table inputmode="html" id="searched" style="border-collapse: collapse; margin: 50px 0px 50px 0px; font-size: 0.9em; min-width: 1400px;">#}
        <table inputmode="html" id="searched">
            <caption class="tableName">Active students that matches your search</caption> <!--naming the table-->
            <thead id="searchTableHead">
{#                <tr style="background-color: #4b5054; color: white; font-width: bold;">#}
                <tr>
                    <td>Name</td>
                    <td>ID</td>
                    <td>Date of birth</td>
                    <td>GPA</td>
                    <td>Level</td>
                    <td>Department</td>
                    <td>Gender</td>
                    <td>Email</td>
                    <td>Phone number</td>
                    <td></td>
                    <td></td>
{#                    <td>Status</td>#}

                </tr>
            </thead>
{#            <tbody id="searchTableBody" style="font-weight: normal;">#}
            <tbody id="searchTableBody">
                {% for student in students %}
                    {% if student.status == 'active' or student.status == 'Active' %}
{#                        <tr style="border-bottom: 1px solid #dddddd">#}
                        <tr>
                            <td>{{ student.name }}</td>
                            <td>{{ student.IDnum }}</td>
                            <td>{{ student.birthDate }}</td>
                            <td>{{ student.gpa }}</td>
                            <td>{{ student.level }}</td>
                            <td>{{ student.dep }}</td>
                            <td>{{ student.gender }}</td>
                            <td>{{ student.email }}</td>
                            <td>{{ student.mobile }}</td>
{#                            <td>{{ student.status }}</td>#}
                            <td><a type="button" href="edit_student.html/{{ student.id }}" id="editButton" class="studentButtons">Edit</a></td>
                            {% if student.dep == 'General' %}
                                <td><a type="button" href="assign_department.html/{{ student.id }}" id="changeDepartmentButton" class="studentButtons">Assign department</a></td>
                            {% else %}
                                <td><a type="button" href="assign_department.html/{{ student.id }}" id="changeDepartmentButton" class="studentButtons">Change department</a></td>
                            {% endif %}

                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </section>
    <footer>
        <h3>Produced By</h3>
        <ul>
            <li>Mohammed Al-Mansori</li>
            <li>Ahmed Adel</li>
            <li>Sahar Mohamed</li>
            <li>John Samy</li>
            <li>Ahmed Mohamed</li>
        </ul>
    </footer>

    <script>

        let arrDataStorage = [];

        {% for student in students %}
            arrDataStorage.push(student);
        {% endfor %}

    </script>
    <script src="{% static '/js/navbar.js' %}"></script>
    <script src="{% static '/js/search.js' %}"></script>



</body>

</html>
